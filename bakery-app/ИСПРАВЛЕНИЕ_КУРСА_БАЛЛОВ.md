# ✅ Исправление курса обмена баллов

## Проблема
Курс был неправильный: **100 баллов = 1₽**

При балансе 1130 баллов пользователь получал скидку всего 11₽ вместо 113₽.

## Решение
Изменён курс на: **10 баллов = 1₽**

Теперь 1130 баллов = 113₽ скидки ✅

## Что изменено

### 1. Расчёт скидки в корзине
**Было:**
```typescript
const maxDiscountRub = Math.floor(bonusPoints / 100);
const pointsToSpend = pointsDiscount * 100;
```

**Стало:**
```typescript
const maxDiscountRub = Math.floor(bonusPoints / 10);
const pointsToSpend = pointsDiscount * 10;
```

### 2. Отображение баланса
**Было:**
```typescript
{bonusPoints} ≈ {Math.floor(bonusPoints / 100)}₽
```

**Стало:**
```typescript
{bonusPoints} ≈ {Math.floor(bonusPoints / 10)}₽
```

### 3. Минимум для списания
**Было:** 100 баллов  
**Стало:** 10 баллов

## Примеры

### До исправления ❌
```
Баланс: 1130 баллов
Скидка: 11₽ (неправильно!)
```

### После исправления ✅
```
Баланс: 1130 баллов
Скидка: 113₽ (правильно!)
```

## Новые примеры расчёта

### Пример 1
```
Баланс: 500 баллов
Сумма заказа: 1000₽

Скидка: 50₽
К оплате: 950₽
Списано: 500 баллов
```

### Пример 2
```
Баланс: 1130 баллов
Сумма заказа: 800₽

Скидка: 113₽
К оплате: 687₽
Списано: 1130 баллов
```

### Пример 3
```
Баланс: 1130 баллов
Сумма заказа: 1200₽
Промокод: -240₽

Скидка баллами: 113₽
К оплате: 997₽
Списано: 1130 баллов
```

## Изменённые файлы

1. ✅ `app/(tabs)/cart.tsx` - Логика расчёта
2. ✅ `src/context/SettingsContext.tsx` - Переводы (минимум 10 баллов)
3. ✅ `СИСТЕМА_ОПЛАТЫ_БАЛЛАМИ.md` - Документация
4. ✅ `КАК_ИСПОЛЬЗОВАТЬ_БАЛЛЫ.md` - Инструкция

## Результат

✅ Курс исправлен: **10 баллов = 1₽**  
✅ 1130 баллов = 113₽ скидки  
✅ Минимум для списания: 10 баллов  
✅ Документация обновлена  

---

**Дата исправления:** 3 декабря 2025  
**Статус:** ✅ Исправлено

