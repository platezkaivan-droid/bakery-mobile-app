# Инструкция по запуску приложения "Булочки Павлова"

## Установка зависимостей

```bash
cd bakery-app
npm install

# Установка веб-зависимостей (обязательно!)
npx expo install react-native-web react-dom
```

## Запуск приложения

### Для мобильных устройств (Android/iOS)

```bash
npx expo start
```

Затем:
- Установите приложение **Expo Go** на свой телефон
- Отсканируйте QR-код, который появится в терминале
- Приложение откроется на вашем устройстве

### Для веб-версии

```bash
npx expo start -c
```
Затем нажмите `w` в терминале или откройте браузер на `http://localhost:8081`

**Важно**: Если веб-версия не работает, убедитесь, что установлены веб-зависимости:
```bash
npx expo install react-native-web react-dom
```

## Настройка Supabase

1. Откройте файл `src/lib/supabase.ts`
2. URL и ключ Supabase уже настроены:
   - URL: `https://qkyhwdmhkoizxjazwnti.supabase.co`
   - Anon Key: уже указан в файле

3. Выполните SQL-скрипты в вашей базе данных Supabase:
   - `supabase/schema.sql` - создание таблиц
   - `supabase/fix-triggers.sql` - исправление триггеров (если нужно)

## Возможные проблемы

### Ошибка "Unable to resolve react-native-web/dist/index"

**Решение**:
```bash
npm uninstall react-native-web react-dom
npx expo install react-native-web react-dom
npx expo start -c
```

### Ошибка "(0, _expoModulesCore.registerWebModule) is not a function"

**Решение**:
```bash
npx expo install expo-font expo-modules-core
npx expo start -c
```

### Полная переустановка (если ничего не помогает)

```bash
# Windows
rmdir /s /q node_modules
del package-lock.json
npm install
npx expo start -c

# Mac/Linux
rm -rf node_modules package-lock.json
npm install
npx expo start -c
```

Подробнее см. файл `ИСПРАВЛЕНИЯ.md`

## Структура проекта

- `app/` - экраны приложения (Expo Router)
- `src/components/` - компоненты
- `src/context/` - контексты (Auth, Cart, Favorites)
- `src/lib/` - библиотеки (Supabase)
- `supabase/` - SQL-скрипты для базы данных

## Дополнительная информация

- Документация Expo: https://docs.expo.dev/
- Документация Supabase: https://supabase.com/docs
