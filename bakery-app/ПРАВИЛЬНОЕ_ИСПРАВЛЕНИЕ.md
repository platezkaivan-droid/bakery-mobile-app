# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## üî¥ –ß—Ç–æ –±—ã–ª–æ —Å–ª–æ–º–∞–Ω–æ

1. **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ** - –≤–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `image_url`
2. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞** - –æ—à–∏–±–∫–∞ 400 –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–æ–ª–æ–Ω–∫–∏ `points_spent` –≤ –ë–î

---

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (favorites.tsx) - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `product.image_url || 'croissant'` –≤–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–ª–æ–≤–∞—Ä—é

**–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω fallback –≤–Ω—É—Ç—Ä–∏, –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ —Å–Ω–∞—Ä—É–∂–∏:
```tsx
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
<Image 
  source={PRODUCT_IMAGES[product.image_url as string] || PRODUCT_IMAGES.croissant} 
  style={styles.productImage} 
  resizeMode="cover" 
/>
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
- `product.image_url` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, "croissant", "cinnabon")
- –≠—Ç–æ—Ç –∫–ª—é—á –∏—â–µ—Ç—Å—è –≤ —Å–ª–æ–≤–∞—Ä–µ `PRODUCT_IMAGES`
- –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–ø–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∫—Ä—É–∞—Å—Å–∞–Ω–∞

---

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –¢–†–ï–ë–£–ï–¢–°–Ø –î–ï–ô–°–¢–í–ò–ï ‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Ç–∞–±–ª–∏—Ü–µ `orders` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–æ–Ω–∫–∞ `points_spent`

**–†–µ—à–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å –≤ Supabase

#### –®–∞–≥–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å:

```sql
ALTER TABLE orders 
ADD COLUMN IF NOT EXISTS points_spent INTEGER DEFAULT 0;
```

4. –ù–∞–∂–º–∏—Ç–µ **Run** (–∏–ª–∏ F5)
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–î_ORDERS.sql`

---

### 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è (cart.tsx) - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ

**–ë—ã–ª–æ**: `router.push('/(tabs)/orders')`  
**–°—Ç–∞–ª–æ**: `router.push('/orders')`

–í Expo Router –Ω–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `(tabs)` –≤ –ø—É—Ç–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω SQL-–∑–∞–ø—Ä–æ—Å –≤ Supabase
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Shake ‚Üí Reload)
- [ ] –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏—è
- [ ] –ö–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ö–Ω–æ–ø–∫–∞ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–ó–∞–∫–∞–∑—ã"
- [ ] –ó–∞–∫–∞–∑ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö
- [ ] –ß–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–î–æ—Å—Ç–∞–≤–ª–µ–Ω"
- [ ] –ù–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã

---

## üîç –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å

### –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `favorites`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `favorites`

### –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É –æ—Ç Supabase
3. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Could not find column" - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å
4. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "permission denied" - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
```tsx
router.push('/orders')           // –û–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
router.replace('/orders')        // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
router.push('/(tabs)/orders')    // –ï—Å–ª–∏ —Ñ–∞–π–ª –≤ (tabs)
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º:
```typescript
{
  id: string;              // UUID —Ç–æ–≤–∞—Ä–∞
  name: string;            // –ù–∞–∑–≤–∞–Ω–∏–µ
  description: string;     // –û–ø–∏—Å–∞–Ω–∏–µ
  price: number;           // –¶–µ–Ω–∞
  image_url: string;       // ‚Üê –ö–õ–Æ–ß –¥–ª—è PRODUCT_IMAGES (–Ω–µ URL!)
  rating: number;          // –†–µ–π—Ç–∏–Ω–≥
  category_id?: string;    // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
}
```

### –°–ª–æ–≤–∞—Ä—å –∫–∞—Ä—Ç–∏–Ω–æ–∫:
```typescript
const PRODUCT_IMAGES = {
  croissant: require('../../assets/products/kruassan s chocaladom.jpg'),
  cinnabon: require('../../assets/products/sinabon.jpg'),
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
};
```

---

## ‚ú® –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
${new Date().toLocaleString('ru-RU')}

## üéØ –°—Ç–∞—Ç—É—Å
- ‚úÖ –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å –≤ Supabase
- üîÑ –ü–æ—Å–ª–µ SQL - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
