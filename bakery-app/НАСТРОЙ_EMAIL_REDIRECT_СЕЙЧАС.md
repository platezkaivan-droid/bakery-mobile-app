# ‚ö° –ù–ê–°–¢–†–û–ô EMAIL REDIRECT –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

## üéØ –¶–µ–ª—å

–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∏ –∏–∑ email –æ—Ç–∫—Ä—ã–≤–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞ –Ω–µ –±—Ä–∞—É–∑–µ—Ä.

---

## üöÄ –®–ê–ì 1: –ó–∞–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç –ê: GitHub Pages (–ë–ï–°–ü–õ–ê–¢–ù–û)

1. **–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `bakery-email-redirect`
   - Public

2. **–ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª:**
   - –ü–µ—Ä–µ–∏–º–µ–Ω—É–π `email-redirect.html` –≤ `index.html`
   - –ó–∞–≥—Ä—É–∑–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

3. **–í–∫–ª—é—á–∏ GitHub Pages:**
   - Settings ‚Üí Pages
   - Source: `main` branch
   - –°–æ—Ö—Ä–∞–Ω–∏

4. **–ü–æ–ª—É—á–∏ URL:**
   ```
   https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/
   ```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: Vercel (–ë–´–°–¢–†–û)

1. –£—Å—Ç–∞–Ω–æ–≤–∏ Vercel CLI:
   ```bash
   npm install -g vercel
   ```

2. –î–µ–ø–ª–æ–π:
   ```bash
   cd bakery-app/bakery-mobile-app/bakery-app
   vercel --prod email-redirect.html
   ```

3. –ü–æ–ª—É—á–∏ URL:
   ```
   https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.vercel.app
   ```

---

## üöÄ –®–ê–ì 2: –ù–∞—Å—Ç—Ä–æ–π Supabase

1. **–û—Ç–∫—Ä–æ–π Supabase Dashboard**
   ```
   https://supabase.com/dashboard
   ```

2. **Authentication ‚Üí URL Configuration**

3. **Site URL:**
   ```
   https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/
   ```

4. **Redirect URLs** (–¥–æ–±–∞–≤—å –æ–±–∞):
   ```
   https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/
   bakery-app://auth-callback
   ```

5. **–°–æ—Ö—Ä–∞–Ω–∏**

---

## üöÄ –®–ê–ì 3: –û–±–Ω–æ–≤–∏ Email Template

1. **Authentication ‚Üí Email Templates**

2. **Confirm signup** ‚Üí Edit

3. **–ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É —Å —Å—Å—ã–ª–∫–æ–π:**
   ```html
   <a href="{{ .ConfirmationURL }}">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å Email</a>
   ```

4. **–ó–∞–º–µ–Ω–∏ –Ω–∞:**
   ```html
   <a href="https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/?token={{ .Token }}&type=signup">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å Email</a>
   ```

5. **–°–æ—Ö—Ä–∞–Ω–∏**

---

## üöÄ –®–ê–ì 4: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ APK

```bash
cd bakery-app/bakery-mobile-app/bakery-app/android
./gradlew clean
./gradlew assembleRelease
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/?token=test&type=signup
```

–î–æ–ª–∂–Ω–æ:
- –ü–æ–∫–∞–∑–∞—Ç—å "–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..."
- –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—å Deep Link
- –ß–µ—Ä–µ–∑ 3 —Å–µ–∫ –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"

### –¢–µ—Å—Ç 2: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è —Å –Ω–æ–≤—ã–º email
3. –ü—Ä–æ–≤–µ—Ä—å –ø–æ—á—Ç—É
4. –ö–ª–∏–∫–Ω–∏ –Ω–∞ —Å—Å—ã–ª–∫—É –≤ –ø–∏—Å—å–º–µ
5. –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –≤–Ω–∏–∑—É –±—É–¥–µ—Ç Debug Info —Å –ª–æ–≥–∞–º–∏.

---

## üì± –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê: –ë–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ (–í–†–ï–ú–ï–ù–ù–û)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –∑–∞–ª–∏–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:

1. **Supabase Dashboard**
2. **Authentication ‚Üí Providers ‚Üí Email**
3. **Confirm email:** OFF
4. **–°–æ—Ö—Ä–∞–Ω–∏**

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢

- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –∑–∞–ª–∏—Ç–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
- [ ] URL –ø–æ–ª—É—á–µ–Ω
- [ ] Site URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Supabase
- [ ] Redirect URLs –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Email Template –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] –ö–æ–¥ AuthContext –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] APK –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

## üìû –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å URL –≤ –ø–∏—Å—å–º–µ

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:
```
https://—Ç–≤–æ–π-username.github.io/bakery-email-redirect/?token=...&type=signup
```

### 2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–º–æ—Ç—Ä–∏ Debug Info –≤–Ω–∏–∑—É.

### 3. –ü—Ä–æ–≤–µ—Ä—å Deep Link

```bash
adb shell am start -W -a android.intent.action.VIEW \
  -d "bakery-app://auth-callback?token=test&type=signup" \
  com.bakery.pavlova
```

### 4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npx react-native log-android
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
üîó Deep link received: bakery-app://auth-callback?token=...
‚úÖ Auth callback detected
üìß Processing email confirmation token...
‚úÖ Email confirmed, session created!
```

---

## ‚ú® –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å —Å—Å—ã–ª–∫–∏ –∏–∑ email –±—É–¥—É—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ! üéâ

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
