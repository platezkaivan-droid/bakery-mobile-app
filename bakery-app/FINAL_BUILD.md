# ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ APK - 70.2 MB

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç
- **APK:** `android/app/build/outputs/apk/release/app-release.apk`
- **–†–∞–∑–º–µ—Ä:** 70.2 MB (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π APK –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä)
- **–î–∞—Ç–∞:** 05.12.2025 01:41
- **–ü–æ–¥–ø–∏—Å—å:** debug keystore (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –û—Ç–∫–ª—é—á–µ–Ω—ã splits - —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π APK
**–ë—ã–ª–æ:**
```groovy
splits {
    abi {
        enable true  // –°–æ–∑–¥–∞–≤–∞–ª–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ APK –ø–æ 34 MB
        universalApk false
    }
}
```

**–°—Ç–∞–ª–æ:**
```groovy
splits {
    abi {
        enable false  // –û—Ç–∫–ª—é—á–µ–Ω–æ
        universalApk true  // –û–¥–∏–Ω APK –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
    }
}
```

### 2. –£–¥–∞–ª–µ–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç notifications
- –£–±—Ä–∞–Ω `import { removeFCMToken } from '../utils/notifications'` –∏–∑ AuthContext

### 3. –í—Å–µ console.log –æ–±–µ—Ä–Ω—É—Ç—ã –≤ __DEV__
- AuthContext.tsx ‚úÖ
- SettingsContext.tsx ‚úÖ
- NotificationContext.tsx ‚úÖ

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- Supabase URL –∏ –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- AsyncStorage —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```powershell
adb install "bakery-mobile-app\bakery-app\android\app\build\outputs\apk\release\app-release.apk"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. **–í—Ö–æ–¥ —á–µ—Ä–µ–∑ email/password**
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ù–∞–∂–∞—Ç—å "–í–æ–π—Ç–∏"
   - –í–≤–µ—Å—Ç–∏ email –∏ –ø–∞—Ä–æ–ª—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

2. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
   - –ù–∞–∂–∞—Ç—å "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏**
   - –í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –û—Ç–∫—Ä—ã—Ç—å —Å–Ω–æ–≤–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–ª—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

### –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
**–°–∏–º–ø—Ç–æ–º—ã:** "Network error" –∏–ª–∏ "Failed to fetch"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Supabase URL –¥–æ—Å—Ç—É–ø–µ–Ω: `https://qkyhwdmhkoizxjazwnti.supabase.co`

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
**–°–∏–º–ø—Ç–æ–º—ã:** "Invalid login credentials"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email –∏ –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ Supabase

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
**–°–∏–º–ø—Ç–æ–º—ã:** "Email not confirmed"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –≤ Supabase Dashboard:
  - Authentication ‚Üí Settings ‚Üí Email Auth
  - –û—Ç–∫–ª—é—á–∏—Ç—å "Confirm email"

#### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä–∞—à–∏—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ
**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏:
  ```powershell
  adb logcat | findstr /i "crash error exception fatal"
  ```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ console.log –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `__DEV__`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ProGuard –ø—Ä–∞–≤–∏–ª–∞

## üîç –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤

### –ü–æ–¥–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å logcat:
```powershell
adb devices
adb logcat | findstr /i "crash error exception fatal"
```

### –ò–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª:
```powershell
adb logcat > logs.txt
```

### –ò—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:
- `FATAL EXCEPTION` - –∫—Ä–∞—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `AuthContext` - –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `Supabase` - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
- `AsyncStorage` - –ø—Ä–æ–±–ª–µ–º—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

## ‚ö†Ô∏è Google OAuth –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** SHA-1 fingerprint –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Firebase Console

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–ª—É—á–∏—Ç—å SHA-1:
   ```powershell
   keytool -list -v -keystore "android\app\debug.keystore" -alias androiddebugkey -storepass android -keypass android
   ```

2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å SHA-1 (–Ω–∞–ø—Ä–∏–º–µ—Ä: `5E:8F:16:06:2E:A3:CD:2C:4A:0D:54:78:76:BA:A6:F3:8C:AB:F6:25`)

3. –î–æ–±–∞–≤–∏—Ç—å –≤ Firebase Console:
   - https://console.firebase.google.com/
   - Project Settings ‚Üí Android app (`com.bakery.pavlova`)
   - Add fingerprint ‚Üí –í—Å—Ç–∞–≤–∏—Ç—å SHA-1
   - Download new `google-services.json`
   - –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª –≤ `android/app/google-services.json`
   - –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK

## üöÄ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ APK

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:
```powershell
cd bakery-mobile-app\bakery-app\android
./gradlew clean assembleRelease
```

### –ü–æ–¥–ø–∏—Å–∞—Ç—å APK:
```powershell
$env:JAVA_HOME = "C:\Program Files\Android\Android Studio\jbr"
& "$env:JAVA_HOME\bin\jarsigner.exe" -verbose -sigalg SHA256withRSA -digestalg SHA-256 -keystore "app\debug.keystore" -storepass android -keypass android "app\build\outputs\apk\release\app-release.apk" androiddebugkey
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ APK

| –í–µ—Ä—Å–∏—è | –†–∞–∑–º–µ—Ä | –¢–∏–ø | –†–∞–±–æ—Ç–∞–µ—Ç? |
|--------|--------|-----|-----------|
| 72.2 MB | 72.2 MB | Universal | ‚úÖ –î–∞ |
| **70.2 MB** | **70.2 MB** | **Universal** | **‚úÖ –¢–µ–∫—É—â–∞—è** |
| 67.3 MB | 67.3 MB | Universal | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ |
| 34.7 MB | 34.7 MB | arm64-v8a split | ‚ùå –ù–µ—Ç (split) |
| 9.1 MB | 9.1 MB | –ë–µ–∑ bundle | ‚ùå –ù–µ—Ç (–Ω–µ—Ç JS) |

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** (email/password)
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é** –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
4. **–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –î–æ–±–∞–≤–∏—Ç—å SHA-1 –≤ Firebase –¥–ª—è Google OAuth
   - –°–æ–∑–¥–∞—Ç—å production keystore
   - –°–æ–±—Ä–∞—Ç—å production APK

5. **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ `adb logcat`
   - –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫—É —Å `FATAL EXCEPTION`
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É
   - –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK

## üí° –í–∞–∂–Ω–æ

- APK –ø–æ–¥–ø–∏—Å–∞–Ω **debug keystore** - —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!
- –î–ª—è production –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **release keystore**
- –†–∞–∑–º–µ—Ä 70.2 MB - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è React Native —Å Hermes
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π APK —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö (arm64, arm32, x86, x86_64)
